<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Fantasy Inspired Landing</title>
    <link rel="stylesheet" link="style.css" />
    <script
      src="https://kit.fontawesome.com/a076d05399.js"
      crossorigin="anonymous"
    ></script>
    <style>
      /* hero start */
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body,
      html {
        height: 100%;
        font-family: "Segoe UI", sans-serif;
      }

      #bgVideo {
        position: fixed;
        right: 0;
        bottom: 0;
        min-width: 100%;
        min-height: 100%;
        z-index: -1;
        object-fit: cover;
      }

      .overlay {
        position: relative;
        color: white;
        height: 100vh;
        background: rgba(50, 49, 55, 0.5);
        display: flex;
        flex-direction: column;
        justify-content: space-between;
        padding: 2rem;
      }

      header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        font-size: 1.2rem;
      }

      .logo{ 
        font-weight: bold;
        letter-spacing: 2px;
      }

      .menu{ 
        font-size: 1.3rem;
        cursor: pointer;
      }

      /* start of styling the class menu   if hovered and clicked */
      .menu:hover{
        color: red;
        transition: all 0.3s ease;
      }
      /* end of styling the class menu if hovered and clicked */


      /* start of making catogories next to menu */
      .nav-right-section{
        display: flex;
        align-items: center;
        gap: 1rem;
      }
      /* end of making catogories next to menu */

      /* start of style to change color of logo when he at section 2 */
        .logo.active{
          color: #414141;
        }
      /* end of style to change color of logo when he at section 2 */

      /* start of style the color of header to change color when they enter the section 3*/
      /* .logo. */

      /* Start of styling the navbar for mobile */
      .navBar {
        position: fixed;
        top: 0;
        right: 0;
        width: 250px;
        height: 100%;
        background-color: #00d0fa;
        color: white;
        display: flex;
        flex-direction: column;
        justify-content: flex-start;
        align-items: flex-start;
        transform: translateX(100%); /* Awalnya tersembunyi */
        transition: transform 0.3s cubic-bezier(0.23, 1, 0.32, 1);
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        overflow-y: auto;
        z-index: -1; 
      }
      /* End of styling the navbar for mobile */

      /* start of styling the items in navbar for mobile*/
      .navBar p {
        width: 100%;
        padding: 15px 20px;
        margin: 8px 0;
        border-radius: 8px;
        font-weight: bolder;
        cursor: pointer;
        background-color: rgba(255, 255, 255, 0.238);
        box-sizing: border-box;
        text-align: center;
        transition: all 0.3s ease;
      }

      .navBar p:hover {
        background-color: rgba(255,255,255,0.5);
        transform: translateX(-3px);
      }

      .navBar div {
        width: 100%;
        margin-top: 50px;
        padding: 2px 5px;
      }

      .navBar.active { /* when the navbar active*/
        transform: translateX(0);
      }
      /* end of styling the items in navbar for mobile */

      /* start of styling the items in navbar for dekstop */
        .navDesktop{
          display: flex;
          gap: 2rem;
          justify-content: flex-end;
          width: 100%;
        }

        .navDesktop p {
          transition: all 0.3s ease;
          cursor: pointer;
        }

        .navDesktop p:hover { 
          color: rgba(255,255,255,0.5);
          transform: translateX(-3px);
        }
      /* end of styling the items in navbar for dekstop */

      .content {
        max-width: 600px;
        /* margin-top: 70vh; */
      }

      .content h1 {
        font-size: 2rem;
        margin-top: 70vh;
        text-align: justify;
        /* color: red; */
      }

      button {
        padding: 0.75rem 1.5rem;
        background: transparent;
        border: 2px solid white;
        color: white;
        cursor: pointer;
        font-size: 1rem;
        transition: 0.3s;
      }

      button:hover {
        background: white;
        color: black;
      }

      .mute-icon {
        position: absolute;
        bottom: 2rem;
        right: 2rem;
        font-size: 1.5rem;
        cursor: pointer;
      }
      /* hero end */

      .container {
        display: flex;
        flex-direction: row;
        height: 100vh;
        width: 100%;
      }

      .left-section {
        flex: 1;
        background-color: white;
        padding: 4rem 3rem;
        display: flex;
        flex-direction: column;
        justify-content: center;
      }

      .left-section .logo {
        margin-bottom: 3rem;
      }

      .left-section h1 {
        font-size: 2.8rem;
        margin-bottom: 1.5rem;
        font-weight: 700;
        color: black;
      }

      .left-section p {
        color: gray;
        font-size: 1.1rem;
        margin-bottom: 2rem;
      }

      .left-section button {
        padding: 0.8rem 1.5rem;
        background: transparent;
        border: 2px solid rgb(0, 0, 0);
        color: black;
        font-size: 1rem;
        cursor: pointer;
        transition: 0.3s;
      }

      .left-section button:hover {
        background: rgb(0, 0, 0);
        color: white;
      }

      .right-section {
        flex: 1;
        background: linear-gradient(to top right, rgb(33, 34, 34), #7d848f);
        position: relative;
        display: flex;
        flex-direction: column;
        justify-content: space-between;
        align-items: center;
        padding: 2rem;
      }

      .right-section .logo-icon {
        font-size: 4rem;
        margin: auto;
      }
      
      /* start of hidden the navMobile */
      .navMobile {
        display: none;
      }
      /* end of hidden the navMobile */

      /* Responsive */
      @media (max-width: 768px) {
        .container {
          flex-direction: column;
        
        }

        .left-section,
        .right-section {
          flex: unset;
          width: 100%;
          height: auto;
        }

        /* start of make the height of left section 2 on mobile seems correct */
        .left-section{
          height: 100vh;
        }
        /* end of make the height of left section 2 on mobile seems correct */
        
        .left-section h1 {
          font-size: 2rem;
        }

        .left-section p {
          font-size: 1rem;
        }

        .right-section .logo-icon {
          font-size: 3rem;
        }

        /* repair the text of content on mobile */
        .content h1 {
          font-size: 1rem;
          margin-top: 70vh;
          text-align: justify;
        }
        /* repair the text of content on mobile */

        /* start of making the header turn into blue when enter the section 2 on mobile interface */
        .logo.active, .menu.active{
          color: rgb(35, 35, 35);
        }
        /* end of making the header turn into blue when enter the section 2 on mobile interface */

        /* start of toggle the navbar */
        .navMobile {
          display: flex;
        }

        .navDesktop {
          display: none;
        }
        /* end of toggle the navbar */

        /* start of styling the section 3 on mobile interface */
        #section3 {
          flex-direction: column;
        }

        .sec3-left-section, .sec3-right-section{
          display: unset;
          width: 100%;
        }

        .sec3-left-section{
          height: 10vh;
          width: 100%;
          object-fit: cover;
        }

        .sec3-right-section{
          width: 100%;
        }

        .sec3-right-section p {
          font-size: 2rem;
          font-weight: bold;
          text-align: center;
        }
      /* end of styling the section 3 on mobile interface */
      }


      /* about image start */
      .right-section .logo-icon img {
        max-width: 50%;
        height: auto;
        display: block;
        margin: auto;
      }
      /* about image end */

      /* start of styling section3 */
      #section3 {
        display: flex;
      }

      .sec3-left-section{
        width: 100%;
        height: 70vh;
      }

      .sec3-right-section{
        width: 100%;
        height: 100vh;
        display: flex;
        justify-content: center;
        align-items: center;
        padding: 2rem;
        background-color: #f4f4f4;
      }

      .sec3-right-section p {
        font-size: 1rem;
        font-weight: bold;
        text-align: center;
      }
      /* end of styling section3 */

      /* start of styling section4 */
      #section4 {
        width: 100%;
        height: 100vh;
        background-color: rgba(0, 0, 0, 0.800); 
        display: flex;
        justify-content: center; 
        align-items: center;     
      }

      #section4 q {
      font-size: 2rem;
      color: white;   
      text-align: center;
      max-width: 80%;  
      }
      /* end of styling section4 */

      /* start of styling section footer */
      #sectionFooter{
        display: flex;
        width: 100%;
        background-color: green;
        display: flex;
        flex-direction: column;
        justify-content: center; 
        align-items: center;
        height: 10vh;
      }

      .footerList {
        display: flex;
        justify-content: center;
        align-items: center;
        gap: 1.5rem;
        list-style: none;
      }

      .footerList li {
        display: flex;
        align-items: center;
        font-size: 1.3rem;
        font-family: Arial, Helvetica, sans-serif;
        font-weight: bold;
      }

      .footerList img {
        width: 20px;
        height: 20px;
        object-fit: contain;
        cursor: pointer;
      }
      /* end of styling section footer */

      /* start of styling image into section3 */
      .section3-image img{
        width: 100%;
        height: 100vh;
        object-fit: cover; 
        /* border: 10px solid black; */
      }
      /* end of styling image into section3 */

      /* start of add sticky header */
      #header {
        position: fixed;
        top: 0;
        left: 0;
        padding: 15px;
        width: 100%;
        z-index: 1500;
      }
      /* end of sticky header */

      /* Start of styling navbar when they comes to the section 3 */
      .specialColor {
        color: red;
      }

      .specialColor p {
          transition: all 0.3s ease;
          cursor: pointer;
        }

      .specialColor p:hover { 
        color: rgba(0, 255, 13, 0.5);
        transform: translateX(-3px);
        font-weight: 500;
      }
      /* end of styling navbar when they comes to the section 3 */

      /* Start of styling navbar when they comes to the section 1 */
      .defaultColor {
        color: rgb(255, 255, 255);
      }

      .defaultColor p {
          transition: all 0.3s ease;
          cursor: pointer;
        }
      /* end of styling navbar when they comes to the section 1 */
    </style>
  </head>
  <body>
    <video autoplay muted loop id="bgVideo">
      <source src="hero.mp4" type="video/mp4" />
      Your browser does not support HTML5 video.
    </video>

    <section class="overlay" id="section1" changeTitle>
      <header id="header">
        <div class="logo">Winterfell</div>
        <!-- for dekstrop interface -->
        <nav class="navDesktop">
          <p>Home</a>
          <p>About<p>
          <p>History</p>
          <p>Castle</p>
          <p>Gallery</p>
        </nav>

        <!-- for mobile interface -->
        <div class="nav-right-section">
          <div class="menu navMobile">☰</div>
        </div>
        
        <section class="navBar navMobile">
          <div>
            <p>lorem</p>
            <p>Ipsum</p>
            <p>Dolor</p>
            <p>Sit Amet</p>
          </div>
        </section>
        <!-- for mobile interface -->
      </header>

      <section class="content">
        <h1>
          the capital of the Kingdom of the North and the seat and the ancestral home of the royal House Stark.
        </h1>
        <button>More</button>
      </section>

      <section class="mute-icon" onclick="toggleMute()">
        <i id="muteIcon" class="fas fa-volume-mute"></i>
      </section>
    </section>

    <section class="container" id="section2" changeTitle>
      <section class="left-section">
        <h1>Winterfell</h1>
        <p>
           the Kingdom of the North and the seat and the ancestral home of the royal House Stark. It is a very large castle located at the center of the North, from where the head of House Stark rules over his or her people.
        </p>
        <button>More</button>
      </section>
      <section class="right-section">
        <div class="logo-icon"><img src="stark.png" alt="" /></div>
        <!-- You can replace this with your actual white blob icon/logo -->
      </section>
    </section>

    <!-- start of adding section 3 to web -->
    <section class="container" id="section3" changeTitle>
      <section class="sec3-left-section">
        <div class="section3-image"><img src="imageForSection3.jpg" alt="" /></div>
      </section>
      <section class="sec3-right-section">
        <p>
          Lorem ipsum dolor sit amet consectetur adipisicing elit. Sit aspernatur repellat eum, exercitationem nulla architecto reiciendis iusto tenetur natus nisi, laudantium velit maiores quia, corporis voluptatem. Sunt vero blanditiis odio.
        </p>
      </section>
    </section>
    <!-- end of adding section 3 to web -->

    <!-- start of adding section 4 to web -->
    <section class="container" id="section4" changeTitle>
      <div id="mainSect4">
        <q>Fortis Fortuna Adiuvat</q>
      </div>
    </section>
    <!-- start of adding section 4 to web -->

    <!-- start of adding section footer to web -->
    <section class="container" id="sectionFooter" changeTitle>
      <ul class="footerList">
        <li>Find Us</li>
        <li><img src="https://upload.wikimedia.org/wikipedia/commons/9/95/Instagram_logo_2022.svg" alt="igLogo"></li>
        <li><img src="https://upload.wikimedia.org/wikipedia/commons/e/ef/Youtube_logo.png" alt="ytLogo"></li>
      </ul>
    </section>
    <!-- end of adding section footer to web -->

    <script>
      const video = document.getElementById("bgVideo");
      const icon = document.getElementById("muteIcon");

      /* start of set variable for scroll animation */
      const section1 = document.getElementById("section1");
      const section2 = document.getElementById("section2");
      const section3 = document.getElementById("section3");
      const section4 = document.getElementById("section4");
      const sectionFooter = document.getElementById("sectionFooter")
      const section = [section1, section2, section3, section4, sectionFooter];
      /* end of set variable for scroll animation */

      /* start of set variabel for summon navbar */      
      const navBarButton = document.querySelector('.menu');
      const navBar = document.querySelector('.navBar');
      /* end of set variabel for summon navbar */


      function toggleMute() {
        video.muted = !video.muted;
        icon.className = video.muted
          ? "fas fa-volume-mute"
          : "fas fa-volume-up";
      }

      /* start of disabling the scroll */
      function disableScroll() {
        /*untuk cegah scroll*/
        window.addEventListener('wheel', preventScroll, { passive: false });
        window.addEventListener('touchmove', preventScroll, { passive: false });        
        console.log("bastian becik")
      }

      function enableScroll() {
        // document.body.style.overflow = '';
        console.log("bastian ala")
        window.addEventListener('wheel', preventScroll, { passive: true });
        window.addEventListener('touchmove', preventScroll, { passive: true });   
      }

      function preventScroll(e){
        e.preventDefault();
      }
      /* end of disabling the scroll */      

      /* start of making scroll animation */
      let scroll = false;
      let currentIndex = 0; // add the current index for scroll animation

        /* start of making the array function to change index of section */
        function changeSection (direction) {
          if (scroll) return;
          scroll = true;
          disableScroll();

          if (direction === 'down' && currentIndex < section.length - 1) {
            /* start of fixing the scroll animation for mobile */
            if (currentIndex === 0 & window.innerWidth <= 768) {
              currentIndex++
              window.scrollBy({
                top: 745,
                behavior: 'smooth'
              });
              setTimeout(() => {
                scroll = false;
                enableScroll();
              }, 500);
              return;
            } else {
              currentIndex++;
            }
            /* end of fixing the scroll animation for mobile */
          } else if (direction === 'up' && currentIndex > 0) {
            currentIndex--;
          } else {
            console.error('index\'e udah nol')
          }

          const targetPost = section[currentIndex].offsetTop;
          window.scrollTo({ top: targetPost, behavior: 'smooth' });

          setTimeout(() => {
            scroll = false;
            enableScroll();
          }, 1000);
        }
        /* end of making the array function to change index of section */


      /* start of making scroll animation */
      window.addEventListener('wheel', function (event) {
        if (scroll) return;
        if (event.deltaY > 50) {
          changeSection('down');
        } else if (event.deltaY < -50) {
          changeSection('up');
        }
      }, { passive: false });
      /* end of making scroll animation */

      /* start of making the winterfell turn into other colors when enter other section */
      window.addEventListener('load', (event) => {
        const titleChanger = document.querySelectorAll('*[changeTitle]');
        let currentTarget = null;

        const Observer = new IntersectionObserver((entries, Observer) => {
          for (const entry of entries) {
            if (entry.isIntersecting) {
              currentTarget = entry.target;
              addColor(true, '.logo');
              addColor(true, '.menu');
              addColor(true, '.navDesktop');
            } else {
              addColor(false, '.logo');
              addColor(false, '.menu');
              addColor(false, '.navDesktop');
            }
          }
        }, { threshold: 0.15 });

        for (const element of titleChanger) {
          Observer.observe(element);
        }

        function watchTarget() {
          const bounds = currentTarget.getBoundingClientRect();

          if (bounds.bottom < window.innerHeight - 80) {
            addColor(false, '.logo');
            addColor(false, '.menu');
          } else {
            addColor(true, '.logo');
            addColor(true, '.menu');
          }
        }

        function addColor(add, classSelector) {
          const logo = document.querySelector(classSelector);
          if (add) {
            if (currentTarget.id ===  'section2') {
              logo.classList.add('active');
              logo.classList.remove('specialColor');
              logo.classList.remove('defaultColor');
              console.log('lagi di section 2');
            } else if (currentTarget.id === 'section3'){
              logo.classList.add('specialColor');
              logo.classList.remove('active');
              console.log('lagi di section 3')
              logo.classList.remove('defaultColor');
            } else{
              logo.classList.remove('active');
              logo.classList.remove('specialColor');
              console.log('lagi di section 1 atau yang lain');
              logo.classList.add("defaultColor");
            }
          }
        }
      });
      /* end of making the winterfell turn into other colours when enter section 2 */

      /* start of making function to summon the navbar on mobile*/
        navBarButton.addEventListener('click', () => {
        navBar.classList.toggle('active');
        console.log('tes')
      });
      /* start of making function to summon the navbar on mobile */
    </script>
  </body>
</html>
